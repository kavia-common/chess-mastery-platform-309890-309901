{"is_source_file": true, "format": "JavaScript", "description": "This file defines the AuthController class handling user authentication operations such as registration, login, profile retrieval, and profile update for a web application backend.", "external_files": ["../db/pool", "../auth/auth"], "external_methods": ["query", "hashPassword", "verifyPassword", "signJwt"], "published": ["AuthController"], "classes": [{"name": "AuthController", "description": "Controller class providing authentication-related endpoints for user registration, login, profile retrieval, and profile update."}], "methods": [{"name": "register(req, res, next)", "description": "Handles user registration, creating user and rating records, and returning a JWT token upon success.", "scope": "AuthController", "scopeKind": "class"}, {"name": "login(req, res, next)", "description": "Authenticates a user with username or email and password, returning a JWT token if credentials are valid.", "scope": "AuthController", "scopeKind": "class"}, {"name": "me(req, res, next)", "description": "Retrieves current user profile information including rating.", "scope": "AuthController", "scopeKind": "class"}, {"name": "updateProfile(req, res, next)", "description": "Updates user profile details such as username and email.", "scope": "AuthController", "scopeKind": "class"}], "calls": ["query", "hashPassword", "verifyPassword", "signJwt"], "search-terms": ["AuthController", "register", "login", "updateProfile", "me", "users table", "ratings table", "JWT"], "state": 2, "file_id": 22, "knowledge_revision": 54, "git_revision": "", "ctags": [{"_type": "tag", "name": "AuthController", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/controllers/auth.js", "pattern": "/^class AuthController {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/controllers/auth.js", "pattern": "/^        created_at: userRow.created_at,$/", "language": "JavaScript", "kind": "property", "scope": "AuthController.login.user", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/controllers/auth.js", "pattern": "/^        email: userRow.email,$/", "language": "JavaScript", "kind": "property", "scope": "AuthController.login.user", "scopeKind": "class"}, {"_type": "tag", "name": "exports", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/controllers/auth.js", "pattern": "/^module.exports = new AuthController();$/", "language": "JavaScript", "kind": "variable", "scope": "module", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/controllers/auth.js", "pattern": "/^        id: userRow.id,$/", "language": "JavaScript", "kind": "property", "scope": "AuthController.login.user", "scopeKind": "class"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/controllers/auth.js", "pattern": "/^  async login(req, res, next) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res, next)", "scope": "AuthController", "scopeKind": "class"}, {"_type": "tag", "name": "me", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/controllers/auth.js", "pattern": "/^  async me(req, res, next) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res, next)", "scope": "AuthController", "scopeKind": "class"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/controllers/auth.js", "pattern": "/^  async register(req, res, next) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res, next)", "scope": "AuthController", "scopeKind": "class"}, {"_type": "tag", "name": "updateProfile", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/controllers/auth.js", "pattern": "/^  async updateProfile(req, res, next) {$/", "language": "JavaScript", "kind": "method", "signature": "(req, res, next)", "scope": "AuthController", "scopeKind": "class"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/controllers/auth.js", "pattern": "/^      const user = {$/", "language": "JavaScript", "kind": "class", "scope": "AuthController.login", "scopeKind": "class"}, {"_type": "tag", "name": "username", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/controllers/auth.js", "pattern": "/^        username: userRow.username,$/", "language": "JavaScript", "kind": "property", "scope": "AuthController.login.user", "scopeKind": "class"}], "hash": "2e23a4390638ead4a3767a80a2f989c2", "format-version": 4, "code-base-name": "backend_express", "filename": "backend_express/src/controllers/auth.js", "fields": [{"name": "created_at: userRow.created_at,", "scope": "AuthController.login.user", "scopeKind": "class", "description": "unavailable"}, {"name": "email: userRow.email,", "scope": "AuthController.login.user", "scopeKind": "class", "description": "unavailable"}, {"name": "module.exports = new AuthController();", "scope": "module", "scopeKind": "class", "description": "unavailable"}, {"name": "id: userRow.id,", "scope": "AuthController.login.user", "scopeKind": "class", "description": "unavailable"}, {"name": "username: userRow.username,", "scope": "AuthController.login.user", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"54": ""}]}