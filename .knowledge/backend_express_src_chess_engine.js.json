{"is_source_file": true, "format": "JavaScript", "description": "This file implements a minimal lightweight chess rules helper, supporting FEN parsing/serialization, SAN move parsing, move validation, and move application. It provides core chess logic for move validation and execution, including special moves like castling, en passant, and pawn promotion.", "external_files": [], "external_methods": [], "published": ["validateAndApplySanMove"], "classes": [], "methods": ["sqToIdx", "idxToSq", "parseFen", "toFen", "findKing", "onBoard", "isSquareAttacked", "inCheck", "generatePieceMoves", "applyMove", "allLegalMoves", "parseSan", "validateAndApplySanMove"], "calls": ["cloneBoard", "parseFen", "toFen", "isSquareAttacked", "inCheck", "generatePieceMoves", "applyMove", "allLegalMoves", "parseSan"], "search-terms": ["chess rules helper", "FEN parsing", "SAN move validation", "move application", "chess validation library"], "state": 2, "file_id": 18, "knowledge_revision": 32, "git_revision": "", "ctags": [{"_type": "tag", "name": "FILES", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/chess/engine.js", "pattern": "/^const FILES = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "RANKS", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/chess/engine.js", "pattern": "/^const RANKS = ['1', '2', '3', '4', '5', '6', '7', '8'];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "allLegalMoves", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/chess/engine.js", "pattern": "/^function allLegalMoves(state) {$/", "language": "JavaScript", "kind": "function", "signature": "(state)"}, {"_type": "tag", "name": "applyMove", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/chess/engine.js", "pattern": "/^function applyMove(state, move) {$/", "language": "JavaScript", "kind": "function", "signature": "(state, move)"}, {"_type": "tag", "name": "cloneBoard", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/chess/engine.js", "pattern": "/^function cloneBoard(board) {$/", "language": "JavaScript", "kind": "function", "signature": "(board)"}, {"_type": "tag", "name": "findKing", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/chess/engine.js", "pattern": "/^function findKing(board, color) {$/", "language": "JavaScript", "kind": "function", "signature": "(board, color)"}, {"_type": "tag", "name": "generatePieceMoves", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/chess/engine.js", "pattern": "/^function generatePieceMoves(state, from) {$/", "language": "JavaScript", "kind": "function", "signature": "(state, from)"}, {"_type": "tag", "name": "idxToSq", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/chess/engine.js", "pattern": "/^function idxToSq(x, y) {$/", "language": "JavaScript", "kind": "function", "signature": "(x, y)"}, {"_type": "tag", "name": "inCheck", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/chess/engine.js", "pattern": "/^function inCheck(state, color) {$/", "language": "JavaScript", "kind": "function", "signature": "(state, color)"}, {"_type": "tag", "name": "isSquareAttacked", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/chess/engine.js", "pattern": "/^function isSquareAttacked(state, sq, byColor) {$/", "language": "JavaScript", "kind": "function", "signature": "(state, sq, byColor)"}, {"_type": "tag", "name": "isUpper", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/chess/engine.js", "pattern": "/^function isUpper(c) {$/", "language": "JavaScript", "kind": "function", "signature": "(c)"}, {"_type": "tag", "name": "onBoard", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/chess/engine.js", "pattern": "/^function onBoard(x, y) {$/", "language": "JavaScript", "kind": "function", "signature": "(x, y)"}, {"_type": "tag", "name": "parseFen", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/chess/engine.js", "pattern": "/^function parseFen(fen) {$/", "language": "JavaScript", "kind": "function", "signature": "(fen)"}, {"_type": "tag", "name": "parseSan", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/chess/engine.js", "pattern": "/^function parseSan(state, sanRaw) {$/", "language": "JavaScript", "kind": "function", "signature": "(state, sanRaw)"}, {"_type": "tag", "name": "pieceColor", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/chess/engine.js", "pattern": "/^function pieceColor(piece) {$/", "language": "JavaScript", "kind": "function", "signature": "(piece)"}, {"_type": "tag", "name": "rayAttacks", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/chess/engine.js", "pattern": "/^function rayAttacks(board, from, dx, dy, attackerColor) {$/", "language": "JavaScript", "kind": "function", "signature": "(board, from, dx, dy, attackerColor)"}, {"_type": "tag", "name": "sqToIdx", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/chess/engine.js", "pattern": "/^function sqToIdx(sq) {$/", "language": "JavaScript", "kind": "function", "signature": "(sq)"}, {"_type": "tag", "name": "toFen", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/chess/engine.js", "pattern": "/^function toFen(state) {$/", "language": "JavaScript", "kind": "function", "signature": "(state)"}, {"_type": "tag", "name": "validateAndApplySanMove", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/chess/engine.js", "pattern": "/^function validateAndApplySanMove(fen, san) {$/", "language": "JavaScript", "kind": "function", "signature": "(fen, san)"}, {"_type": "tag", "name": "validateAndApplySanMove", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/chess/engine.js", "pattern": "/^module.exports = { validateAndApplySanMove };$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/chess/engine.js", "pattern": "/^      const from = { x, y };$/", "language": "JavaScript", "kind": "field", "scope": "allLegalMoves.from", "scopeKind": "class"}], "hash": "01fa67c38ff40e2fb84ecf40ace3aac2", "format-version": 4, "code-base-name": "backend_express", "filename": "backend_express/src/chess/engine.js"}