{"is_source_file": true, "format": "JavaScript", "description": "This file defines the Express.js routes for a chess platform backend. It sets up HTTP endpoints for health checks, user authentication, profile management, matchmaking, game management, chat, leaderboards, and user history. The routes link to respective controllers and include Swagger annotations for API documentation. It also uses middleware like requireAuth for protected routes and validateBody for request validation.", "external_files": ["../controllers/health", "../controllers/auth", "../controllers/matchmaking", "../controllers/games", "../controllers/chat", "../controllers/leaderboards", "../controllers/history", "../middleware/auth", "../http/validate", "../db/pool"], "external_methods": ["healthController.check", "authController.register", "authController.login", "authController.me", "authController.updateProfile", "matchmakingController.join", "matchmakingController.leave", "matchmakingController.status", "gamesController.getGame", "gamesController.getMoves", "gamesController.submitMove", "gamesController.resign", "gamesController.draw", "chatController.list", "chatController.send", "leaderboardsController.top", "leaderboardsController.recent", "historyController.myGames", "query"], "published": ["router"], "classes": [], "methods": [{"name": "check", "description": "Health check endpoint to verify the service is running"}, {"name": "register", "description": "Handles user registration"}, {"name": "login", "description": "Handles user login and JWT issuance"}, {"name": "me", "description": "Retrieves the current authenticated user's profile"}, {"name": "updateProfile", "description": "Updates the current user's profile information"}, {"name": "join", "description": "Join matchmaking queue"}, {"name": "leave", "description": "Leave matchmaking queue"}, {"name": "status", "description": "Get matchmaking status for the current user"}, {"name": "getGame", "description": "Fetch game state by game ID"}, {"name": "getMoves", "description": "Retrieve list of moves for a game"}, {"name": "submitMove", "description": "Submit a move in the game"}, {"name": "resign", "description": "Resign from the current game"}, {"name": "draw", "description": "Declare a draw in the game"}, {"name": "list", "description": "List chat messages for a game"}, {"name": "send", "description": "Send a chat message"}, {"name": "top", "description": "Get top players leaderboard"}, {"name": "recent", "description": "Get recent games leaderboard"}, {"name": "myGames", "description": "Retrieve current user's game history"}], "calls": ["healthController.check", "query('SELECT 1 AS ok')", "authController.register", "authController.login", "authController.me", "authController.updateProfile", "matchmakingController.join", "matchmakingController.leave", "matchmakingController.status", "gamesController.getGame", "gamesController.getMoves", "gamesController.submitMove", "gamesController.resign", "gamesController.draw", "chatController.list", "chatController.send", "leaderboardsController.top", "leaderboardsController.recent", "historyController.myGames"], "search-terms": ["routes", "swagger", "matchmaking", "games", "chat", "leaderboards", "profile", "health", "auth", "middleware", "validation", "UUID", "HTTP endpoints", "WebSocket"], "state": 2, "file_id": 8, "knowledge_revision": 69, "git_revision": "a73f0c6fde913bd675071cf0380cb5256d955c43", "revision_history": [{"20": "6c1a3ea69b823fa96f4b3ca654bb2205b98dbe9a"}, {"42": "6c1a3ea69b823fa96f4b3ca654bb2205b98dbe9a"}, {"69": "a73f0c6fde913bd675071cf0380cb5256d955c43"}], "ctags": [{"_type": "tag", "name": "authController", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/routes/index.js", "pattern": "/^const authController = require('..\\/controllers\\/auth');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "chatController", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/routes/index.js", "pattern": "/^const chatController = require('..\\/controllers\\/chat');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "express", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/routes/index.js", "pattern": "/^const express = require('express');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "gamesController", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/routes/index.js", "pattern": "/^const gamesController = require('..\\/controllers\\/games');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "healthController", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/routes/index.js", "pattern": "/^const healthController = require('..\\/controllers\\/health');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "historyController", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/routes/index.js", "pattern": "/^const historyController = require('..\\/controllers\\/history');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "leaderboardsController", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/routes/index.js", "pattern": "/^const leaderboardsController = require('..\\/controllers\\/leaderboards');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "loginSchema", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/routes/index.js", "pattern": "/^const loginSchema = z.object({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "matchmakingController", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/routes/index.js", "pattern": "/^const matchmakingController = require('..\\/controllers\\/matchmaking');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "registerSchema", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/routes/index.js", "pattern": "/^const registerSchema = z.object({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/routes/index.js", "pattern": "/^const router = express.Router();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "sendChatSchema", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/routes/index.js", "pattern": "/^const sendChatSchema = z.object({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "submitMoveSchema", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/routes/index.js", "pattern": "/^const submitMoveSchema = z.object({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "updateProfileSchema", "path": "/home/kavia/workspace/code-generation/chess-mastery-platform-309890-309901/backend_express/src/routes/index.js", "pattern": "/^const updateProfileSchema = z.object({$/", "language": "JavaScript", "kind": "constant"}], "hash": "0eaf9edbeead22d890edb6b624ce627d", "format-version": 4, "code-base-name": "backend_express", "filename": "backend_express/src/routes/index.js"}